<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>C++汇总 | SJ&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="SunJian,SunJian's Blog" />
  
  <meta name="description" content="资源汇总官方文档官方文档1 官方文档2 中文文档 命名习惯积跬步至千里vectorstatic头文件string cstdio 小功能解决黑窗一闪而过12345#include &amp;lt;iostream&amp;gt; // 均需要此头文件// 方法一std::system(&quot;pause&quot;); // 加在程序末尾，return之前// 方法二std::getchar(); 数字到字符串的转换to_str">
<meta name="keywords" content="汇总,C++">
<meta property="og:type" content="article">
<meta property="og:title" content="C++汇总">
<meta property="og:url" content="http://yoursite.com/2018/03/26/Cplusplus汇总/index.html">
<meta property="og:site_name" content="SJ&#39;s Blog">
<meta property="og:description" content="资源汇总官方文档官方文档1 官方文档2 中文文档 命名习惯积跬步至千里vectorstatic头文件string cstdio 小功能解决黑窗一闪而过12345#include &amp;lt;iostream&amp;gt; // 均需要此头文件// 方法一std::system(&quot;pause&quot;); // 加在程序末尾，return之前// 方法二std::getchar(); 数字到字符串的转换to_str">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://p4j4n6s3q.bkt.clouddn.com/image/C++%E6%B1%87%E6%80%BB/Cplusplus.jpg">
<meta property="og:updated_time" content="2018-05-08T01:56:17.281Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C++汇总">
<meta name="twitter:description" content="资源汇总官方文档官方文档1 官方文档2 中文文档 命名习惯积跬步至千里vectorstatic头文件string cstdio 小功能解决黑窗一闪而过12345#include &amp;lt;iostream&amp;gt; // 均需要此头文件// 方法一std::system(&quot;pause&quot;); // 加在程序末尾，return之前// 方法二std::getchar(); 数字到字符串的转换to_str">
<meta name="twitter:image" content="http://p4j4n6s3q.bkt.clouddn.com/image/C++%E6%B1%87%E6%80%BB/Cplusplus.jpg">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?2cc919d6055fad7046e85c082b198acb";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>


  

</head>

<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">SunJian&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        SunJian&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        记录生活中的精彩
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="Github" target="_blank" href="//github.com/JustForFunOk">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-Cplusplus汇总" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      C++汇总
    </h1>
    <div class="post-title-bar">
      <ul>
          
              <li>
                  <i class="fa fa-book"></i>
                  
                      <a href="/categories/编程语言/">编程语言</a>
                  
              </li>
          
        <li>
          <i class="fa fa-calendar"></i>  2018-03-26
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <p><img src="http://p4j4n6s3q.bkt.clouddn.com/image/C++%E6%B1%87%E6%80%BB/Cplusplus.jpg" alt="cplusplus"></p>
<h2 id="资源汇总"><a href="#资源汇总" class="headerlink" title="资源汇总"></a>资源汇总</h2><h3 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3><p><a href="http://www.cplusplus.com/" target="_blank" rel="noopener">官方文档1</a></p>
<p><a href="http://en.cppreference.com/w/" target="_blank" rel="noopener">官方文档2</a></p>
<p><a href="http://www.runoob.com/cplusplus/cpp-tutorial.html" target="_blank" rel="noopener">中文文档</a></p>
<h2 id="命名习惯"><a href="#命名习惯" class="headerlink" title="命名习惯"></a>命名习惯</h2><h2 id="积跬步至千里"><a href="#积跬步至千里" class="headerlink" title="积跬步至千里"></a>积跬步至千里</h2><h3 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h3><h3 id="static"><a href="#static" class="headerlink" title="static"></a>static</h3><h2 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h2><p>string</p>
<p>cstdio</p>
<h2 id="小功能"><a href="#小功能" class="headerlink" title="小功能"></a>小功能</h2><h3 id="解决黑窗一闪而过"><a href="#解决黑窗一闪而过" class="headerlink" title="解决黑窗一闪而过"></a>解决黑窗一闪而过</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // 均需要此头文件</span></span></span><br><span class="line"><span class="comment">// 方法一</span></span><br><span class="line"><span class="built_in">std</span>::system(<span class="string">"pause"</span>); <span class="comment">// 加在程序末尾，return之前</span></span><br><span class="line"><span class="comment">// 方法二</span></span><br><span class="line"><span class="built_in">std</span>::getchar();</span><br></pre></td></tr></table></figure>
<h3 id="数字到字符串的转换"><a href="#数字到字符串的转换" class="headerlink" title="数字到字符串的转换"></a>数字到字符串的转换</h3><p><a href="http://www.cplusplus.com/reference/string/to_string/?kw=to_string" target="_blank" rel="noopener">to_string</a></p>
<p>核心代码:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt; //std::string, std::to_string</span></span></span><br><span class="line"><span class="keyword">int</span> length=<span class="number">888</span>, width=<span class="number">666</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> s = <span class="string">"Size:"</span> + <span class="built_in">std</span>::to_string(length) + <span class="string">"x"</span> + <span class="built_in">std</span>::to_string(width);</span><br></pre></td></tr></table></figure>
<p>注意：只有此方法不适用于浮点型，如float length=888.88时，输出的是888.880005。</p>
<p>参考: <a href="https://stackoverflow.com/questions/5590381/easiest-way-to-convert-int-to-string-in-c" target="_blank" rel="noopener"><em>StackOverflow</em></a></p>
<hr>
<p><a href="http://www.cplusplus.com/reference/sstream/stringstream/" target="_blank" rel="noopener">stringstream</a></p>
<p>核心代码:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt; //std::string</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt; //std::stringstream</span></span></span><br><span class="line"><span class="keyword">int</span> length=<span class="number">888</span>, width=<span class="number">666</span>;</span><br><span class="line"><span class="built_in">stringstream</span> ss;</span><br><span class="line">ss.str(<span class="string">""</span>); <span class="comment">// 若要多次使用ss,则需要先清空ss</span></span><br><span class="line">ss &lt;&lt; <span class="string">"Size:"</span> &lt;&lt; length &lt;&lt; <span class="string">"x"</span> &lt;&lt; width;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> s = ss.str();</span><br></pre></td></tr></table></figure>
<p>注意: 若要多次使用<em>ss</em>则<code>ss.str(&quot;&quot;);</code>必不可少!</p>
<p>参考: <a href="https://stackoverflow.com/questions/5590381/easiest-way-to-convert-int-to-string-in-c" target="_blank" rel="noopener"><em>StackOverflow</em></a> <a href="http://cppblog.com/Sandywin/archive/2007/07/13/27984.html" target="_blank" rel="noopener"><em>Shuffy’s Blog</em></a></p>
<hr>
<p><a href="http://www.cplusplus.com/reference/cstdio/sprintf/" target="_blank" rel="noopener">sprintf</a> / <a href="https://msdn.microsoft.com/en-us/library/ce3zzk1k.aspx" target="_blank" rel="noopener">sprintf_s</a></p>
<ul>
<li><p>与熟悉的<a href="http://www.cplusplus.com/reference/cstdio/printf/" target="_blank" rel="noopener">printf</a>很像,只是printf是将内容打印出来,而sprintf是将内容储存到指定的字符串中</p>
</li>
<li><p>同样可以使用<code>%x.xf</code>来格式化字符串,非常方便</p>
</li>
</ul>
<p>核心代码:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt; //std::sprintf</span></span></span><br><span class="line"><span class="keyword">char</span> s[<span class="number">50</span>]; <span class="comment">//字符串的长度根据需要修改</span></span><br><span class="line"><span class="keyword">float</span> length=<span class="number">888.88</span>, width=<span class="number">666.66</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">sprintf</span>(s, <span class="string">"Size:%5.1fx%5.1f"</span>, length, width);</span><br></pre></td></tr></table></figure>
<p>注意:</p>
<ul>
<li>字符数组的长度要大于字符串的长度</li>
<li>格式化输出时保证数据类型一致，如<code>%f</code>与<code>float</code>对应,否则会输出错误，可查看<a href="http://www.cplusplus.com/reference/cstdio/printf/" target="_blank" rel="noopener">对应表</a></li>
<li>sprintf在VS环境中默认不能编译通过，详情查看<code>bug0001</code></li>
</ul>
<h3 id="字符数组转化成字符串"><a href="#字符数组转化成字符串" class="headerlink" title="字符数组转化成字符串"></a>字符数组转化成字符串</h3><p><a href="http://www.cplusplus.com/reference/string/string/string/" target="_blank" rel="noopener">string constructor</a></p>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt; // string</span></span></span><br><span class="line"><span class="keyword">char</span> arr[] = <span class="string">"Hello"</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="function"><span class="built_in">string</span> <span class="title">str</span><span class="params">(arr)</span></span>; <span class="comment">//等价于std::string str; str = arr;</span></span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://stackoverflow.com/questions/8960087/how-to-convert-a-char-array-to-a-string" target="_blank" rel="noopener"><em>stackoverflow-How to convert a char array to a string?</em></a></p>
<h3 id="获取系统时间用来作为文件名"><a href="#获取系统时间用来作为文件名" class="headerlink" title="获取系统时间用来作为文件名"></a>获取系统时间用来作为文件名</h3><p><a href="http://www.cplusplus.com/reference/ctime/time/" target="_blank" rel="noopener">time</a></p>
<p>返回值是UTC时间从1900年1月1日00:00开始的秒数。（文档上都显示是1970年但根据实验是1900年）</p>
<p><a href="http://www.cplusplus.com/reference/ctime/localtime/" target="_blank" rel="noopener">localtime</a></p>
<p>输入time()返回值，输出指向储存当地时间的tm结构体的指针。</p>
<p>tm结构体定义如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tm</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> tm_sec;   <span class="comment">// seconds after the minute - [0, 60] including leap second</span></span><br><span class="line">    <span class="keyword">int</span> tm_min;   <span class="comment">// minutes after the hour - [0, 59]</span></span><br><span class="line">    <span class="keyword">int</span> tm_hour;  <span class="comment">// hours since midnight - [0, 23]</span></span><br><span class="line">    <span class="keyword">int</span> tm_mday;  <span class="comment">// day of the month - [1, 31]</span></span><br><span class="line">    <span class="keyword">int</span> tm_mon;   <span class="comment">// months since January - [0, 11]</span></span><br><span class="line">    <span class="keyword">int</span> tm_year;  <span class="comment">// years since 1900</span></span><br><span class="line">    <span class="keyword">int</span> tm_wday;  <span class="comment">// days since Sunday - [0, 6]</span></span><br><span class="line">    <span class="keyword">int</span> tm_yday;  <span class="comment">// days since January 1 - [0, 365]</span></span><br><span class="line">    <span class="keyword">int</span> tm_isdst; <span class="comment">// daylight savings time flag</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>核心代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt; // time_t struct tm</span></span></span><br><span class="line"><span class="comment">// 获取秒数</span></span><br><span class="line"><span class="keyword">time_t</span> rawtime; <span class="comment">// time_t为64位的数据类型</span></span><br><span class="line">time(&amp;rawtime); <span class="comment">// rawtime = time(NULL);</span></span><br><span class="line"><span class="comment">// 转换为本地时间</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tm</span> * <span class="title">timeinfo</span>;</span> <span class="comment">// tm为储存时间的结构体，包含如，年份，月份，小时等时间相关信息 struct在C++中可省略</span></span><br><span class="line">timeinfo = localtime(&amp;rawtime);</span><br><span class="line"><span class="comment">// 根据需求提取结构体中需要的信息</span></span><br><span class="line"><span class="keyword">int</span> year = <span class="number">1900</span> + timeinfo-&gt;tm_year; <span class="comment">// 年份需要加1900</span></span><br><span class="line"><span class="keyword">int</span> month = <span class="number">1</span> + timeinfo-&gt;tm_mon; <span class="comment">// 月份需要加1</span></span><br><span class="line"><span class="keyword">int</span> day = timeinfo-&gt;tm_mday;</span><br><span class="line"><span class="keyword">int</span> hour = timeinfo-&gt;tm_hour;</span><br><span class="line"><span class="keyword">int</span> minute = timeinfo-&gt;tm_min;</span><br><span class="line"><span class="keyword">int</span> second = timeinfo-&gt;tm_sec;</span><br><span class="line"><span class="comment">// 写入到字符串中</span></span><br><span class="line"><span class="keyword">char</span> filename[<span class="number">20</span>];</span><br><span class="line"><span class="built_in">sprintf</span>(filename, <span class="string">"%d%02d%02d%02d%02d%02d.jpg"</span>, year, month, day, hour, minute, second); <span class="comment">//以jpg图片为例</span></span><br><span class="line">imwrite(filename, image); <span class="comment">// 以OpenCV中的保存图片函数为例</span></span><br></pre></td></tr></table></figure>
<p>注意：文件名中不能包含<code>\ / : * ? &quot; &lt; &gt; |</code>， 所以不能以20:08:09这样的时间格式作为文件名。</p>
<h2 id="大功能"><a href="#大功能" class="headerlink" title="大功能"></a>大功能</h2><h3 id="进程间的通信"><a href="#进程间的通信" class="headerlink" title="进程间的通信"></a>进程间的通信</h3><p>IPC(Interprocess Communications)</p>
<p>进程间通信方式有很多种，要根据具体的使用情况来选择适合自己的：</p>
<ul>
<li>本机进程间通信？不同电脑的进程之间通过网络通信？不同电脑不同操作系统的进程之间通过网络通信？</li>
<li>一对一通信？一对多通信？</li>
<li>进程是GUI应用？是控制台应用？</li>
</ul>
<p>通信方式总结如下：</p>
<ul>
<li><p>共享内存</p>
<p>程序：</p>
<ul>
<li><p>使用Boost库中的<a href="https://theboostcpplibraries.com/boost.interprocess" target="_blank" rel="noopener">Boost.Interprocess</a></p>
<p>两个C++进程间经过测试可以使用，一个C++一个C#程序之间没有成功。</p>
</li>
<li><p>使用<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa366551%28v=vs.85%29.aspx" target="_blank" rel="noopener">Named Shared Memory</a></p>
<p>一个C#和一个C++程序之间应该可以，待测试。</p>
</li>
</ul>
<p>参考：<a href="https://stackoverflow.com/questions/372198/best-way-for-interprocess-communication-in-c" target="_blank" rel="noopener"><em>stackoverflow</em></a></p>
<p>​</p>
</li>
</ul>
<p>参考：<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa365574%28v=vs.85%29.aspx" target="_blank" rel="noopener"><em>Microsoft–总结了windows很多方法</em></a>  <a href="https://www.ibm.com/developerworks/aix/library/au-spunix_sharedmemory/" target="_blank" rel="noopener"><em>IBM–总结了UNIX上的方法</em></a></p>
<h2 id="工程BUG"><a href="#工程BUG" class="headerlink" title="工程BUG"></a>工程BUG</h2><h3 id="程序移植"><a href="#程序移植" class="headerlink" title="程序移植"></a>程序移植</h3><p>WIN上使用VS2017开发的程序部署到其他计算机上，不能正常运行。主要BUG有以下几点：</p>
<ul>
<li>无法启动程序，因为计算机中丢失MSVCP140.dll。尝试重新安装该程序以解决此问题。</li>
<li>无法启动程序，因为计算机中丢失VCRUNTIME140.dll。尝试重新安装该程序以解决此问题。</li>
</ul>
<p>其中类似于xxx140.dll的文件都是因为使用了VS这个编译器，其中140是VS2017的编译工具代号。遇到这种问题没有必要从现有的计算机上寻找丢失的文件再复制过去，直接安装Visual C++的可再发行组件包即可解决，可从<a href="https://www.cnblogs.com/VAllen/p/Visual-C-Plus-Plus-Collection-Download.html" target="_blank" rel="noopener">VAllen’s Blog</a>处下载。</p>
<ul>
<li>应用程序无法正常启动(0x000007b)。请单击“确定”关闭应用程序。</li>
</ul>
<p>导致这种错误的可能性有很多，但是在程序移植中往往是因为动态库的问题。例如，我的项目开发中使用的SDK是需要安装的，安装完毕后在目标文件夹下有.dll文件，这样将本机的.dll文件拷贝到.exe目录下可以运行，但是然后将.exe和.dll同时拷贝到其他计算机上就不能运行。解决这个问题需要在目标计算机上也安装SDK，然后将安装后的目标文件夹下的.dll文件覆盖之前的.dll文件才能正常运行。</p>
<p>目前我没有什么好的方法可以直接解决这个问题，比较笨但有效的办法是逐一排查，如程序使用了A.dll和B.dll，那就再编写一个只使用A.dll或只使用B.dll的程序进行实验，这样就能找到问题的所在。</p>
<h3 id="使用-lib编译程序"><a href="#使用-lib编译程序" class="headerlink" title="使用.lib编译程序"></a>使用.lib编译程序</h3><p>.exe+.dll的方式在程序移植过程中可能会导致.dll的丢失，如果使用.lib进行编译程序就直接使用.exe就能运行。</p>
<h3 id="CPU占用率99"><a href="#CPU占用率99" class="headerlink" title="CPU占用率99%"></a>CPU占用率99%</h3><p><strong>问题描述</strong></p>
<p>开发的程序中使用了4个线程，每个线程中都在不断循环执行，CPU为4核的。</p>
<p><strong>尝试解决</strong></p>
<ul>
<li><p>在每个子线程中添加waitKey(20)函数，让每个子线程每次循环都等待一段时间。</p>
<p>参考：<a href="https://blog.csdn.net/qq_21882325/article/details/66479195" target="_blank" rel="noopener">CSDN-代码运行时 CPU占用率100%的解决方法</a></p>
<p>效果：并没有什么效果。可能是waitKey()这个函数不对，它并没有阻塞线程还是在占用CPU。可以再试试<a href="https://bbs.csdn.net/topics/350023502" target="_blank" rel="noopener">CSDN-如何阻塞当前线程一段时间？</a></p>
</li>
<li><p>临时解决方法，在win任务管理器中强行不让该程序使用全部的核。</p>
<p>参考：<a href="https://www.techradar.com/news/computing/why-is-my-cpu-running-at-100-710254" target="_blank" rel="noopener">techradar-Why is my CPU running at 100%?</a></p>
<p>效果：还未试</p>
</li>
<li><p>开的线程太多了？Mistake # 18:Creating many more “Runnable” threads than available cores?</p>
<p>参考：<a href="http://www.acodersjourney.com/2017/08/top-20-cplusplus-multithreading-mistakes/" target="_blank" rel="noopener">ACODERS JOURNEY-Top 20 C++ multithreading mistakes and how to avoid them</a></p>
</li>
<li><p>有个观点：CPU占用率越高越好？</p>
<p>参考：<a href="https://stackoverflow.com/questions/9275262/what-are-the-common-causes-for-high-cpu-usage" target="_blank" rel="noopener">StackOverflow-What are the common causes for high CPU usage?</a></p>
</li>
</ul>
<p><strong>补充疑问</strong></p>
<p>如果两个这样的程序同时运行会是什么情况？</p>
<h2 id="程序BUG"><a href="#程序BUG" class="headerlink" title="程序BUG"></a>程序BUG</h2><h3 id="WIN-VS2017"><a href="#WIN-VS2017" class="headerlink" title="WIN+VS2017"></a>WIN+VS2017</h3><h4 id="bug0001"><a href="#bug0001" class="headerlink" title="bug0001"></a>bug0001</h4><p><em>error C4996: ‘sprintf’: This function or variable may be unsafe. Consider using  sprintf_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.</em></p>
<p>原因：（确切原因还未知）sprintf若使用不当会不安全，VS中默认屏蔽了这个函数，其他IDE可以使用。</p>
<p>解决：1、（推荐）使用<a href="https://msdn.microsoft.com/en-us/library/ce3zzk1k.aspx" target="_blank" rel="noopener">sprintf_s</a>直接代替，无需修改参数；</p>
<p>​    2、 <a href="https://jingyan.baidu.com/article/49711c616b8a1ffa441b7cdc.html" target="_blank" rel="noopener">修改VS配置</a>，即在属性–&gt;C/C++–&gt;预处理器–&gt;预处理器定义中加入<code>_CRT_SECURE_NO_WARNINGS</code></p>
<h2 id="IDE"><a href="#IDE" class="headerlink" title="IDE"></a>IDE</h2><h3 id="VisualStudio"><a href="#VisualStudio" class="headerlink" title="VisualStudio"></a>VisualStudio</h3><h4 id="调试时默认的当前目录"><a href="#调试时默认的当前目录" class="headerlink" title="调试时默认的当前目录"></a>调试时默认的当前目录</h4><p>答：.vcxproj文件所在目录。</p>
<h4 id="VisualStudio版本号"><a href="#VisualStudio版本号" class="headerlink" title="VisualStudio版本号"></a>VisualStudio版本号</h4><p>近几年的产品版本号如下，更多信息的参考<a href="https://en.wikipedia.org/wiki/Microsoft_Visual_Studio" target="_blank" rel="noopener">WIKIPEDIA-Microsoft Visual Studio</a>。<br>|产品名|版本号|平台工具集|<br>|:–:|:–:|:–:|<br>|Visual Studio 2017|15.0|v141|<br>|Visual Studio 2015|14.0|v140|<br>|Visual Studio 2013|12.0|v120|<br>|Visual Studio 2012|11.0|v110|<br>|Visual Studio 2010|10.0|v100|</p>
<p>参考：<a href="https://msdn.microsoft.com/zh-cn/library/ff770576.aspx" target="_blank" rel="noopener"><em>MSDN-修改目标框架和平台工具集</em></a>  <a href="https://stackoverflow.com/questions/42730478/version-numbers-for-visual-studio-2017-boost-and-cmake" target="_blank" rel="noopener"><em>StackOverflow-Version numbers for Visual Studio 2017, Boost and CMake</em></a></p>
<h3 id="QtCreator"><a href="#QtCreator" class="headerlink" title="QtCreator"></a>QtCreator</h3><h4 id="MSVC和MinGW的区别"><a href="#MSVC和MinGW的区别" class="headerlink" title="MSVC和MinGW的区别"></a>MSVC和MinGW的区别</h4><h2 id="库"><a href="#库" class="headerlink" title="库"></a>库</h2><h3 id="Boost"><a href="#Boost" class="headerlink" title="Boost"></a>Boost</h3><h4 id="资料汇总"><a href="#资料汇总" class="headerlink" title="资料汇总"></a>资料汇总</h4><ul>
<li>特性：</li>
<li><a href="https://www.boost.org" target="_blank" rel="noopener">boost官网</a></li>
<li><a href="https://theboostcpplibraries.com/" target="_blank" rel="noopener">boost文档</a></li>
</ul>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><ul>
<li><p>WIN上安装Boost</p>
<p><em>注意：安装完后占用5-6G，所以注意放置位置。</em></p>
<p>1、官网下载Boost并解压；</p>
<p>2、以管理员身份运行Windows PowerShell；</p>
<p>3、进入Boost根目录；<code>cd &lt;work_directory&gt;</code></p>
<p>4、运行bootstrap.bat脚本文件；<code>.\bootstrap.bat</code></p>
<p>5、运行在该目录生成的bjam.exe文件，等待结束即可。<code>.\bjam.exe</code></p>
<p>参考：<a href="https://blog.csdn.net/yockie/article/details/8856190" target="_blank" rel="noopener"><em>CSDN</em></a> <a href="https://blog.csdn.net/sunshinecj/article/details/52598488" target="_blank" rel="noopener"><em>CSDN</em></a></p>
</li>
<li><p><a href="https://www.boost.org/doc/libs/1_67_0/more/getting_started/windows.html#id36" target="_blank" rel="noopener">VisualStudio中调用Boost库</a></p>
<p>配置如下：</p>
<p>1、<em>Configuration Properties</em> &gt; <em>C/C++</em> &gt; <em>General</em> &gt; <em>Additional Include Directories</em> 中加入Boost库的根目录，如：<em>F:\WIN10\Boost\boost_1_67_0</em></p>
<p>2、In <em>Configuration Properties</em> &gt; <em>C/C++</em> &gt; <em>Precompiled Headers</em>, change <em>Use Precompiled Header (/Yu)</em> to <em>Not Using Precompiled Headers</em>.</p>
<p>3、In <em>Configuration Properties</em> &gt; <em>Linker</em> &gt; <em>General</em> &gt; <em>Additional Library Directories</em>, enter the path to the Boost binaries, e.g. <em>F:\WIN10\Boost\boost_1_67_0\stage\lib</em> （<a href="https://www.boost.org/doc/libs/1_67_0/more/getting_started/windows.html#simplified-build-from-source" target="_blank" rel="noopener">官网</a>上的路径不太对，使用这个）</p>
<p>参考：<a href="https://blog.csdn.net/yockie/article/details/8856190" target="_blank" rel="noopener"><em>CSDN</em></a> <a href="https://blog.csdn.net/sunshinecj/article/details/52598488" target="_blank" rel="noopener"><em>CSDN</em></a></p>
</li>
</ul>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2018年05月08日 09:56</p>
        <p>原始链接： <a class="post-url" href="/2018/03/26/Cplusplus汇总/" title="C++汇总">http://yoursite.com/2018/03/26/Cplusplus汇总/</a></p>
        <footer>
            <a href="http://yoursite.com">
                <img src="/images/logo.png" alt="SJ">
                SJ
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        thank u ~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2018/03/26/Cplusplus汇总/&title=《C++汇总》 — SJ's Blog&pic=http://p4j4n6s3q.bkt.clouddn.com/image/C++%E6%B1%87%E6%80%BB/Cplusplus.jpg" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2018/03/26/Cplusplus汇总/&title=《C++汇总》 — SJ's Blog&source=记录生活中的精彩" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/03/26/Cplusplus汇总/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《C++汇总》 — SJ's Blog&url=http://yoursite.com/2018/03/26/Cplusplus汇总/&via=http://yoursite.com" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2018/03/26/Cplusplus汇总/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://yoursite.com/2018/03/26/Cplusplus汇总/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/汇总/" class="color3">汇总</a>
      
    <a href="/tags/C++/" class="color4">C++</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#资源汇总"><span class="post-toc-text">资源汇总</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#官方文档"><span class="post-toc-text">官方文档</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#命名习惯"><span class="post-toc-text">命名习惯</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#积跬步至千里"><span class="post-toc-text">积跬步至千里</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#vector"><span class="post-toc-text">vector</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#static"><span class="post-toc-text">static</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#头文件"><span class="post-toc-text">头文件</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#小功能"><span class="post-toc-text">小功能</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#解决黑窗一闪而过"><span class="post-toc-text">解决黑窗一闪而过</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数字到字符串的转换"><span class="post-toc-text">数字到字符串的转换</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#字符数组转化成字符串"><span class="post-toc-text">字符数组转化成字符串</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取系统时间用来作为文件名"><span class="post-toc-text">获取系统时间用来作为文件名</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#大功能"><span class="post-toc-text">大功能</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#进程间的通信"><span class="post-toc-text">进程间的通信</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#工程BUG"><span class="post-toc-text">工程BUG</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#程序移植"><span class="post-toc-text">程序移植</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用-lib编译程序"><span class="post-toc-text">使用.lib编译程序</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CPU占用率99"><span class="post-toc-text">CPU占用率99%</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#程序BUG"><span class="post-toc-text">程序BUG</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#WIN-VS2017"><span class="post-toc-text">WIN+VS2017</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#bug0001"><span class="post-toc-text">bug0001</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#IDE"><span class="post-toc-text">IDE</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#VisualStudio"><span class="post-toc-text">VisualStudio</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#调试时默认的当前目录"><span class="post-toc-text">调试时默认的当前目录</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#VisualStudio版本号"><span class="post-toc-text">VisualStudio版本号</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QtCreator"><span class="post-toc-text">QtCreator</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#MSVC和MinGW的区别"><span class="post-toc-text">MSVC和MinGW的区别</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#库"><span class="post-toc-text">库</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Boost"><span class="post-toc-text">Boost</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#资料汇总"><span class="post-toc-text">资料汇总</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用"><span class="post-toc-text">使用</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2018/03/26/OpenCV汇总/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          OpenCV汇总
        
      </span>
    </a>
  
  
    <a href="/2018/02/27/Markdown常用语法/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">Markdown常用语法</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
        <div id="gitment_container"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
  id: 'Mon Mar 26 2018 09:36:14 GMT+0800', // 使用文章的时间来判断文章
  owner: 'JustForFunOk',
  repo: 'JustForFunOk.github.io', //将评论储存在这个仓库的评论里
  oauth: {
    client_id: '4621b003f93d45ee5a4e',
    client_secret: '1b0b8c75ca9ff29600a4e7907463f71d79bdb163',
  },
})
gitment.render('gitment_container')
</script>

    

</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2018 SJ<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "http://yoursite.com",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/OpenCV/">OpenCV</a><a class="category-link" href="/categories/Ubuntu/">Ubuntu</a><a class="category-link" href="/categories/电脑个性化/">电脑个性化</a><a class="category-link" href="/categories/编程语言/">编程语言</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Bing/" style="font-size: 10px;">Bing</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/OpenCV/" style="font-size: 10px;">OpenCV</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/助记/" style="font-size: 10px;">助记</a> <a href="/tags/壁纸/" style="font-size: 10px;">壁纸</a> <a href="/tags/汇总/" style="font-size: 20px;">汇总</a> <a href="/tags/电脑/" style="font-size: 10px;">电脑</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Bing/" style="font-size: 10px;">Bing</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/OpenCV/" style="font-size: 10px;">OpenCV</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/助记/" style="font-size: 10px;">助记</a> <a href="/tags/壁纸/" style="font-size: 10px;">壁纸</a> <a href="/tags/汇总/" style="font-size: 20px;">汇总</a> <a href="/tags/电脑/" style="font-size: 10px;">电脑</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>







  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>


  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>